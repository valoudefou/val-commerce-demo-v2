{"version":3,"file":"useProducts-BgwQyNGr.js","sources":["../../../../composables/useProducts.ts"],"sourcesContent":["import type { Product } from '@/types/product'\n\nexport const useProducts = () => {\n  const products = useState<Product[]>('products', () => [])\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n\n  const fetchProducts = async () => {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await $fetch<Product[]>('/api/products')\n      products.value = response\n    } catch (err) {\n      error.value = 'We were unable to load products. Please try again later.'\n      console.error(err)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  const findBySlug = async (slug: string) => {\n    try {\n      return await $fetch<Product>(`/api/products/${slug}`)\n    } catch (err) {\n      throw createError({ statusCode: 404, statusMessage: 'Product not found' })\n    }\n  }\n\n  return {\n    products,\n    loading,\n    error,\n    fetchProducts,\n    findBySlug\n  }\n}\n"],"names":[],"mappings":";;AAEO,MAAM,cAAc,MAAM;AAC/B,QAAM,WAAW,SAAoB,YAAY,MAAM,CAAA,CAAE;AACzD,QAAM,UAAU,IAAI,KAAK;AACzB,QAAM,QAAQ,IAAmB,IAAI;AAErC,QAAM,gBAAgB,YAAY;AAChC,YAAQ,QAAQ;AAChB,UAAM,QAAQ;AAEd,QAAI;AACF,YAAM,WAAW,MAAM,OAAkB,eAAe;AACxD,eAAS,QAAQ;AAAA,IACnB,SAAS,KAAK;AACZ,YAAM,QAAQ;AACd,cAAQ,MAAM,GAAG;AAAA,IACnB,UAAA;AACE,cAAQ,QAAQ;AAAA,IAClB;AAAA,EACF;AAEA,QAAM,aAAa,OAAO,SAAiB;AACzC,QAAI;AACF,aAAO,MAAM,OAAgB,iBAAiB,IAAI,EAAE;AAAA,IACtD,SAAS,KAAK;AACZ,YAAM,YAAY,EAAE,YAAY,KAAK,eAAe,qBAAqB;AAAA,IAC3E;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}