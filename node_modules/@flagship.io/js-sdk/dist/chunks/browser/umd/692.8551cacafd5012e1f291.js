"use strict";(self.webpackChunk_flagship_io_js_sdk=self.webpackChunk_flagship_io_js_sdk||[]).push([[532,692],{847:(e,t,n)=>{n.d(t,{INTERNAL_EVENTS:()=>o,MSG_NAME_FROM_IFRAME:()=>i,MSG_NAME_TO_IFRAME:()=>r,VisitorVariationUpdateParam:()=>a});var i=function(e){return e.QaAssistantClose="ABTASTY_QA_ASSISTANT_CLOSE",e.FsApplyForcedVariations="FS_APPLY_FORCED_VARIATIONS",e.FsResetForcedVariations="FS_RESET_FORCED_VARIATIONS",e.FsQaAssistantReady="FS_QA_ASSISTANT_READY",e.MinimizeQaAssistantClose="ABTASTY_QA_MINIMIZE_QA_ASSISTANT_CLOSE",e.FsTriggerRender="FS_TRIGGER_RENDER",e.QaAssistantPlatformChoiceLoaded="ABTASTY_QA_ASSISTANT_PLATFORM_CHOICE_LOADED",e}({}),r=function(e){return e.FsUpdateVisitorAllocatedVariation="FS_UPDATE_VISITOR_ALLOCATED_VARIATION",e.FsVisitorExposedVariation="FS_VISITOR_EXPOSED_VARIATION",e.FsHIT="FS_HIT",e}({}),a=function(e){return e.NewNavigation="newNavigation",e}({}),o=function(e){return e.FsTriggerRendering="FS_TRIGGER_RENDERING",e}({})},3470:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},4488:(e,t,n)=>{var i=n(7680),r=Math.floor,a=function(e,t){var n=e.length;if(n<8)for(var o,s,d=1;d<n;){for(s=d,o=e[d];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==d++&&(e[s]=o)}else for(var l=r(n/2),c=a(i(e,0,l),t),u=a(i(e,l),t),f=c.length,S=u.length,_=0,h=0;_<f||h<S;)e[_+h]=_<f&&h<S?t(c[_],u[h])<=0?c[_++]:u[h++]:_<f?c[_++]:u[h++];return e};e.exports=a},5746:(e,t,n)=>{var i=n(9565),r=n(9228),a=n(8551),o=n(4117),s=n(7750),d=n(3470),l=n(655),c=n(5966),u=n(6682);r("search",(function(e,t,n){return[function(t){var n=s(this),r=o(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](l(n))},function(e){var i=a(this),r=l(e),o=n(t,i,r);if(o.done)return o.value;var s=i.lastIndex;d(s,0)||(i.lastIndex=0);var c=u(i,r);return d(i.lastIndex,s)||(i.lastIndex=s),null===c?-1:c.index}]}))},6532:(e,t,n)=>{n.r(t),n.d(t,{sendFsHitToQA:()=>c,sendMessageToIframe:()=>s,sendVisitorAllocatedVariations:()=>d,sendVisitorExposedVariations:()=>l});var i=n(4467),r=(n(2062),n(2675),n(2008),n(1629),n(3851),n(1278),n(9432),n(6099),n(3500),n(847));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t;null!=(t=window)&&null!=(t=t.frames)&&t.ABTastyQaAssistant&&window.frames.ABTastyQaAssistant.postMessage(e,"*")}function d(e){null!=e&&e.visitorVariations&&s({name:r.MSG_NAME_TO_IFRAME.FsUpdateVisitorAllocatedVariation,value:e.visitorVariations})}function l(e){if(null!=e&&e.exposedVariations){var t=e.navigationDetected;e.navigationDetected&&(e.navigationDetected=!1),s({name:r.MSG_NAME_TO_IFRAME.FsVisitorExposedVariation,value:e.exposedVariations,param:t?r.VisitorVariationUpdateParam.NewNavigation:void 0})}}function c(e){s({name:r.MSG_NAME_TO_IFRAME.FsHIT,value:e.map((function(e){return o(o({},e),{},{timestamp:Date.now()-e.qt})}))})}},6692:(e,t,n)=>{n.r(t),n.d(t,{launchQaAssistant:()=>S});var i=n(4467),r=(n(113),n(4423),n(3792),n(2010),n(9432),n(6099),n(7495),n(1699),n(7764),n(5746),n(2953),n(8408),n(2932)),a=n(6517),o=function(e){return document.querySelector('script[src*="'.concat(e,'"]'))},s=n(847),d=(n(739),n(2675),n(2008),n(1629),n(3851),n(1278),n(3500),n(6532));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"TypeScript"===r.SDK_INFO.name&&window.location.reload();var t=new CustomEvent(s.INTERNAL_EVENTS.FsTriggerRendering,{detail:{forcedReFetchFlags:e}});window.dispatchEvent(t)}function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;null!=(t=window)&&null!=(t=t.frames)&&t.ABTastyQaAssistant||((0,a.logInfoSprintf)(e,"QA assistant","Loading QA Assistant"),function(e){if(!o(r.TAG_QA_URL)&&!o(r.FS_QA_URL)){var t=document.createElement("script");t.src=e,t.id=r.FS_QA_ASSISTANT_SCRIPT_TAG_ID,e===r.QA_ASSISTANT_LOCAL_URL&&(t.crossOrigin="anonymous"),document.body.append(t)}}(n||r.QA_ASSISTANT_PROD_URL));var l={},f=sessionStorage.getItem(r.FS_FORCED_VARIATIONS);try{l=JSON.parse(f||"{}")}catch(e){console.error("Error parsing sessionForcedVariations",e)}i.forcedVariations=l,window.__flagshipSdkQaAssistantMessageHandler&&window.removeEventListener("message",window.__flagshipSdkQaAssistantMessageHandler);var S=function(t){r.TRUSTED_QA_ORIGINS.includes(null==t?void 0:t.origin)&&function(e){var t=e.event,n=e.config,i=e.func,o=e.visitorVariationState;if(n.isQAModeEnabled&&(0,a.isBrowser)())switch(t.data.name){case s.MSG_NAME_FROM_IFRAME.FsQaAssistantReady:!function(e){e.visitorVariations&&(0,d.sendVisitorAllocatedVariations)(e),e.exposedVariations&&(0,d.sendVisitorExposedVariations)(e)}(o);break;case s.MSG_NAME_FROM_IFRAME.MinimizeQaAssistantClose:case s.MSG_NAME_FROM_IFRAME.QaAssistantClose:!function(e){var t,n=e.func,i=e.visitorVariationState;e.config.isQAModeEnabled=!1,sessionStorage.removeItem(r.FS_IS_QA_MODE_ENABLED),n&&window.removeEventListener("message",n),null==(t=document.getElementById(r.FS_QA_ASSISTANT_SCRIPT_TAG_ID))||t.remove(),i.forcedVariations={},u()}({config:n,func:i,visitorVariationState:o});break;case s.MSG_NAME_FROM_IFRAME.FsApplyForcedVariations:!function(e){var t=e.value,n=e.visitorVariationState,i=sessionStorage.getItem(r.FS_FORCED_VARIATIONS),a={};try{a=JSON.parse(i||"{}")}catch(e){console.error("Error parsing sessionForcedVariations",e)}a=c(c({},a),t),sessionStorage.setItem(r.FS_FORCED_VARIATIONS,JSON.stringify(a)),n.forcedVariations=a,u()}({value:t.data.value,visitorVariationState:o});break;case s.MSG_NAME_FROM_IFRAME.FsResetForcedVariations:!function(e){sessionStorage.removeItem(r.FS_FORCED_VARIATIONS),e.forcedVariations={},u()}(o);break;case s.MSG_NAME_FROM_IFRAME.FsTriggerRender:u(!0)}}({visitorVariationState:i,event:t,config:e,func:S})};window.__flagshipSdkQaAssistantMessageHandler=S,window.addEventListener("message",window.__flagshipSdkQaAssistantMessageHandler),e.isQAModeEnabled=!0,sessionStorage.setItem(r.FS_IS_QA_MODE_ENABLED,"true")}function S(e,t){(0,a.isBrowser)()&&(0,a.onDomReady)((function(){var n=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},r.FS_QA_ASSISTANT,r.QA_ASSISTANT_PROD_URL),r.TAG_QA_ASSISTANT,r.QA_ASSISTANT_PROD_URL),r.FS_QA_ASSISTANT_STAGING,r.QA_ASSISTANT_STAGING_URL),r.TAG_QA_ASSISTANT_STAGING,r.QA_ASSISTANT_STAGING_URL),r.FS_QA_ASSISTANT_LOCAL,r.QA_ASSISTANT_LOCAL_URL),r.TAG_QA_ASSISTANT_LOCAL,r.QA_ASSISTANT_LOCAL_URL),o=new URLSearchParams(window.location.search),d=Object.keys(n).find((function(e){return"true"===o.get(e)}))||"";window.__flagshipSdkOnPlatformChoiceLoaded&&window.removeEventListener("message",window.__flagshipSdkOnPlatformChoiceLoaded),window.__flagshipSdkOnPlatformChoiceLoaded=function n(i){r.TRUSTED_QA_ORIGINS.includes(i.origin)&&i.data.name===s.MSG_NAME_FROM_IFRAME.QaAssistantPlatformChoiceLoaded&&(e.isQAModeEnabled||f(e,null,t),window.removeEventListener("message",n))},window.addEventListener("message",window.__flagshipSdkOnPlatformChoiceLoaded),function(e,t){function n(){e.isQAModeEnabled&&(t.navigationDetected=!0)}window.__flagshipSdkOriginalPushState&&(window.history.pushState=window.__flagshipSdkOriginalPushState),window.__flagshipSdkOriginalReplaceState&&(window.history.replaceState=window.__flagshipSdkOriginalReplaceState),window.__flagshipSdkPopStateHandler&&window.removeEventListener("popstate",window.__flagshipSdkPopStateHandler),window.__flagshipSdkOriginalPushState=window.history.pushState,window.__flagshipSdkOriginalReplaceState=window.history.replaceState,window.history.pushState=function(){if(window.__flagshipSdkOriginalPushState){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];window.__flagshipSdkOriginalPushState.apply(this,t),n()}},window.history.replaceState=function(){if(window.__flagshipSdkOriginalReplaceState){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];window.__flagshipSdkOriginalReplaceState.apply(this,t),n()}},window.__flagshipSdkPopStateHandler=function(){n()},window.addEventListener("popstate",window.__flagshipSdkPopStateHandler)}(e,t),e.isQAModeEnabled||d?f(e,n[d],t):function(e,t){(0,a.logInfoSprintf)(e,"QA assistant","Listening for keyboard events to launch QA Assistant"),window.__flagshipSdkOnKeyCombinationDown&&document.removeEventListener("keydown",window.__flagshipSdkOnKeyCombinationDown),window.__flagshipSdkOnKeyCombinationUp&&document.removeEventListener("keyup",window.__flagshipSdkOnKeyCombinationUp);var n={};window.__flagshipSdkOnKeyCombinationDown=function(i){n[i.key]=!0,sessionStorage.removeItem(r.FS_FORCED_VARIATIONS),(n.Control||n.Alt)&&n.q&&n.a&&f(e,null,t)},window.__flagshipSdkOnKeyCombinationUp=function(e){delete n[e.key]},document.addEventListener("keydown",window.__flagshipSdkOnKeyCombinationDown),document.addEventListener("keyup",window.__flagshipSdkOnKeyCombinationUp)}(e,t)}))}},7337:(e,t,n)=>{var i=n(6518),r=n(9504),a=n(5610),o=RangeError,s=String.fromCharCode,d=String.fromCodePoint,l=r([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&1!==d.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,r=0;i>r;){if(t=+arguments[r++],a(t,1114111)!==t)throw new o(t+" is not a valid code point");n[r]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return l(n,"")}})},7416:(e,t,n)=>{var i=n(9039),r=n(8227),a=n(3724),o=n(6395),s=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),i="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),i+=n+e})),n.delete("a",2),n.delete("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==i||"x"!==new URL("https://x",void 0).host}))},8406:(e,t,n)=>{n(3792),n(7337);var i=n(6518),r=n(2195),a=n(3389),o=n(7751),s=n(9565),d=n(9504),l=n(3724),c=n(7416),u=n(6840),f=n(2106),S=n(6279),_=n(687),h=n(3994),A=n(1181),g=n(679),p=n(4901),v=n(9297),w=n(6080),O=n(6955),R=n(8551),y=n(34),E=n(655),T=n(2360),I=n(6980),m=n(81),b=n(851),F=n(2529),k=n(2812),N=n(8227),L=n(4488),M=N("iterator"),Q="URLSearchParams",P=Q+"Iterator",V=A.set,C=A.getterFor(Q),D=A.getterFor(P),U=a("fetch"),G=a("Request"),j=a("Headers"),x=G&&G.prototype,H=j&&j.prototype,B=r.TypeError,z=r.encodeURIComponent,K=String.fromCharCode,q=o("String","fromCodePoint"),Y=parseInt,J=d("".charAt),X=d([].join),Z=d([].push),$=d("".replace),W=d([].shift),ee=d([].splice),te=d("".split),ne=d("".slice),ie=d(/./.exec),re=/\+/g,ae=/^[0-9a-f]+$/i,oe=function(e,t){var n=ne(e,t,t+2);return ie(ae,n)?Y(n,16):NaN},se=function(e){for(var t=0,n=128;n>0&&e&n;n>>=1)t++;return t},de=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},le=function(e){for(var t=(e=$(e,re," ")).length,n="",i=0;i<t;){var r=J(e,i);if("%"===r){if("%"===J(e,i+1)||i+3>t){n+="%",i++;continue}var a=oe(e,i+1);if(a!=a){n+=r,i++;continue}i+=2;var o=se(a);if(0===o)r=K(a);else{if(1===o||o>4){n+="�",i++;continue}for(var s=[a],d=1;d<o&&!(3+ ++i>t||"%"!==J(e,i));){var l=oe(e,i+1);if(l!=l){i+=3;break}if(l>191||l<128)break;Z(s,l),i+=2,d++}if(s.length!==o){n+="�";continue}var c=de(s);null===c?n+="�":r=q(c)}}n+=r,i++}return n},ce=/[!'()~]|%20/g,ue={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},fe=function(e){return ue[e]},Se=function(e){return $(z(e),ce,fe)},_e=h((function(e,t){V(this,{type:P,target:C(e).entries,index:0,kind:t})}),Q,(function(){var e=D(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,F(void 0,!0);var i=t[n];switch(e.kind){case"keys":return F(i.key,!1);case"values":return F(i.value,!1)}return F([i.key,i.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(y(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?ne(e,1):e:E(e)))};he.prototype={type:Q,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,a,o,d,l=this.entries,c=b(e);if(c)for(n=(t=m(e,c)).next;!(i=s(n,t)).done;){if(a=(r=m(R(i.value))).next,(o=s(a,r)).done||(d=s(a,r)).done||!s(a,r).done)throw new B("Expected sequence with length 2");Z(l,{key:E(o.value),value:E(d.value)})}else for(var u in e)v(e,u)&&Z(l,{key:u,value:E(e[u])})},parseQuery:function(e){if(e)for(var t,n,i=this.entries,r=te(e,"&"),a=0;a<r.length;)(t=r[a++]).length&&(n=te(t,"="),Z(i,{key:le(W(n)),value:le(X(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],Z(n,Se(e.key)+"="+Se(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ae=function(){g(this,ge);var e=V(this,new he(arguments.length>0?arguments[0]:void 0));l||(this.size=e.entries.length)},ge=Ae.prototype;if(S(ge,{append:function(e,t){var n=C(this);k(arguments.length,2),Z(n.entries,{key:E(e),value:E(t)}),l||this.length++,n.updateURL()},delete:function(e){for(var t=C(this),n=k(arguments.length,1),i=t.entries,r=E(e),a=n<2?void 0:arguments[1],o=void 0===a?a:E(a),s=0;s<i.length;){var d=i[s];if(d.key!==r||void 0!==o&&d.value!==o)s++;else if(ee(i,s,1),void 0!==o)break}l||(this.size=i.length),t.updateURL()},get:function(e){var t=C(this).entries;k(arguments.length,1);for(var n=E(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=C(this).entries;k(arguments.length,1);for(var n=E(e),i=[],r=0;r<t.length;r++)t[r].key===n&&Z(i,t[r].value);return i},has:function(e){for(var t=C(this).entries,n=k(arguments.length,1),i=E(e),r=n<2?void 0:arguments[1],a=void 0===r?r:E(r),o=0;o<t.length;){var s=t[o++];if(s.key===i&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var n=C(this);k(arguments.length,1);for(var i,r=n.entries,a=!1,o=E(e),s=E(t),d=0;d<r.length;d++)(i=r[d]).key===o&&(a?ee(r,d--,1):(a=!0,i.value=s));a||Z(r,{key:o,value:s}),l||(this.size=r.length),n.updateURL()},sort:function(){var e=C(this);L(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=C(this).entries,i=w(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new _e(this,"keys")},values:function(){return new _e(this,"values")},entries:function(){return new _e(this,"entries")}},{enumerable:!0}),u(ge,M,ge.entries,{name:"entries"}),u(ge,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),l&&f(ge,"size",{get:function(){return C(this).entries.length},configurable:!0,enumerable:!0}),_(Ae,Q),i({global:!0,constructor:!0,forced:!c},{URLSearchParams:Ae}),!c&&p(j)){var pe=d(H.has),ve=d(H.set),we=function(e){if(y(e)){var t,n=e.body;if(O(n)===Q)return t=e.headers?new j(e.headers):new j,pe(t,"content-type")||ve(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(e,{body:I(0,E(n)),headers:I(0,t)})}return e};if(p(U)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?we(arguments[1]):{})}}),p(G)){var Oe=function(e){return g(this,x),new G(e,arguments.length>1?we(arguments[1]):{})};x.constructor=Oe,Oe.prototype=x,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Oe})}}e.exports={URLSearchParams:Ae,getState:C}},8408:(e,t,n)=>{n(8406)}}]);
//# sourceMappingURL=692.8551cacafd5012e1f291.js.map