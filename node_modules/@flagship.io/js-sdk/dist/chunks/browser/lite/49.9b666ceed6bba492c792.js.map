{"version":3,"file":"chunks/browser/lite/49.9b666ceed6bba492c792.js","mappings":";;;;;;;;;;;;;;AAA0E;AACnE;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,cAAc,qDAAkB;AAChC;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,qDAAkB;AAChC;AACA,oCAAoC,8DAA2B;AAC/D,KAAK;AACL;AACO;AACP;AACA,cAAc,qDAAkB;AAChC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;ACxCA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AACrD;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,CAAC,gDAAgD;AAC1C;AACP;AACA;AACA,CAAC,kEAAkE;AAC5D;AACP;AACA;AACA,CAAC,0CAA0C","sources":["webpack://@flagship.io/js-sdk/./src/qaAssistant/messages/index.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/type.ts"],"sourcesContent":["import { MSG_NAME_TO_IFRAME, VisitorVariationUpdateParam } from '../type';\nexport function sendMessageToIframe(data) {\n    if (!window?.frames?.ABTastyQaAssistant) {\n        return;\n    }\n    window.frames.ABTastyQaAssistant.postMessage(data, '*');\n}\nexport function sendVisitorAllocatedVariations(visitorVariationState) {\n    if (!visitorVariationState?.visitorVariations) {\n        return;\n    }\n    sendMessageToIframe({\n        name: MSG_NAME_TO_IFRAME.FsUpdateVisitorAllocatedVariation,\n        value: visitorVariationState.visitorVariations\n    });\n}\nexport function sendVisitorExposedVariations(visitorVariationState) {\n    if (!visitorVariationState?.exposedVariations) {\n        return;\n    }\n    const navigationDetected = visitorVariationState.navigationDetected;\n    if (visitorVariationState.navigationDetected) {\n        visitorVariationState.navigationDetected = false;\n    }\n    sendMessageToIframe({\n        name: MSG_NAME_TO_IFRAME.FsVisitorExposedVariation,\n        value: visitorVariationState.exposedVariations,\n        param: navigationDetected ? VisitorVariationUpdateParam.NewNavigation : undefined\n    });\n}\nexport function sendFsHitToQA(hit) {\n    sendMessageToIframe({\n        name: MSG_NAME_TO_IFRAME.FsHIT,\n        value: hit.map(item => {\n            return {\n                ...item,\n                timestamp: Date.now() - item.qt\n            };\n        })\n    });\n}\n","/**\n * All events posted from iframe\n */\nexport var MSG_NAME_FROM_IFRAME;\n(function (MSG_NAME_FROM_IFRAME) {\n    MSG_NAME_FROM_IFRAME[\"QaAssistantClose\"] = \"ABTASTY_QA_ASSISTANT_CLOSE\";\n    MSG_NAME_FROM_IFRAME[\"FsApplyForcedVariations\"] = \"FS_APPLY_FORCED_VARIATIONS\";\n    MSG_NAME_FROM_IFRAME[\"FsResetForcedVariations\"] = \"FS_RESET_FORCED_VARIATIONS\";\n    MSG_NAME_FROM_IFRAME[\"FsQaAssistantReady\"] = \"FS_QA_ASSISTANT_READY\";\n    MSG_NAME_FROM_IFRAME[\"MinimizeQaAssistantClose\"] = \"ABTASTY_QA_MINIMIZE_QA_ASSISTANT_CLOSE\";\n    MSG_NAME_FROM_IFRAME[\"FsTriggerRender\"] = \"FS_TRIGGER_RENDER\";\n    MSG_NAME_FROM_IFRAME[\"QaAssistantPlatformChoiceLoaded\"] = \"ABTASTY_QA_ASSISTANT_PLATFORM_CHOICE_LOADED\";\n})(MSG_NAME_FROM_IFRAME || (MSG_NAME_FROM_IFRAME = {}));\n/**\n * All events posted to iframe\n */\nexport var MSG_NAME_TO_IFRAME;\n(function (MSG_NAME_TO_IFRAME) {\n    MSG_NAME_TO_IFRAME[\"FsUpdateVisitorAllocatedVariation\"] = \"FS_UPDATE_VISITOR_ALLOCATED_VARIATION\";\n    MSG_NAME_TO_IFRAME[\"FsVisitorExposedVariation\"] = \"FS_VISITOR_EXPOSED_VARIATION\";\n    MSG_NAME_TO_IFRAME[\"FsHIT\"] = \"FS_HIT\";\n})(MSG_NAME_TO_IFRAME || (MSG_NAME_TO_IFRAME = {}));\nexport var VisitorVariationUpdateParam;\n(function (VisitorVariationUpdateParam) {\n    VisitorVariationUpdateParam[\"NewNavigation\"] = \"newNavigation\";\n})(VisitorVariationUpdateParam || (VisitorVariationUpdateParam = {}));\nexport var INTERNAL_EVENTS;\n(function (INTERNAL_EVENTS) {\n    INTERNAL_EVENTS[\"FsTriggerRendering\"] = \"FS_TRIGGER_RENDERING\";\n})(INTERNAL_EVENTS || (INTERNAL_EVENTS = {}));\n"],"names":[],"sourceRoot":""}