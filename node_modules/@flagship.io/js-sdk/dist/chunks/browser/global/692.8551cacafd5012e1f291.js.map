{"version":3,"file":"chunks/browser/global/692.8551cacafd5012e1f291.js","mappings":"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","sources":["webpack://@flagship.io/js-sdk/./src/qaAssistant/type.ts","webpack://@flagship.io/js-sdk/./node_modules/core-js/internals/same-value.js","webpack://@flagship.io/js-sdk/./node_modules/core-js/internals/array-sort.js","webpack://@flagship.io/js-sdk/./node_modules/core-js/modules/es.string.search.js","webpack://@flagship.io/js-sdk/./src/qaAssistant/messages/index.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/appendScript.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/messages/iframeMessageActions.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/loadQaAssistant.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/messages/handleIframeMessage.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/index.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/detectNavigationChanges.ts","webpack://@flagship.io/js-sdk/./src/qaAssistant/listenForKeyboardQaAssistant.ts","webpack://@flagship.io/js-sdk/./node_modules/core-js/modules/es.string.from-code-point.js","webpack://@flagship.io/js-sdk/./node_modules/core-js/internals/url-constructor-detection.js","webpack://@flagship.io/js-sdk/./node_modules/core-js/modules/web.url-search-params.constructor.js","webpack://@flagship.io/js-sdk/./node_modules/core-js/modules/web.url-search-params.js"],"sourcesContent":["import { FsVariationToForce, VisitorVariations } from '../types';\n\n/**\n * All events posted from iframe\n */\nexport enum MSG_NAME_FROM_IFRAME {\n  QaAssistantClose = 'ABTASTY_QA_ASSISTANT_CLOSE',\n  FsApplyForcedVariations = 'FS_APPLY_FORCED_VARIATIONS',\n  FsResetForcedVariations = 'FS_RESET_FORCED_VARIATIONS',\n  FsQaAssistantReady = 'FS_QA_ASSISTANT_READY',\n  MinimizeQaAssistantClose = 'ABTASTY_QA_MINIMIZE_QA_ASSISTANT_CLOSE',\n  FsTriggerRender = 'FS_TRIGGER_RENDER',\n  QaAssistantPlatformChoiceLoaded = 'ABTASTY_QA_ASSISTANT_PLATFORM_CHOICE_LOADED'\n}\n\nexport type FsApplyForcedVariations = {\n  name: MSG_NAME_FROM_IFRAME.FsApplyForcedVariations;\n  value: Record<string, FsVariationToForce>;\n};\n\nexport type EventDataFromIframe =\n  | {\n      name:\n        | MSG_NAME_FROM_IFRAME.QaAssistantClose\n        | MSG_NAME_FROM_IFRAME.FsResetForcedVariations\n        | MSG_NAME_FROM_IFRAME.FsQaAssistantReady\n        | MSG_NAME_FROM_IFRAME.MinimizeQaAssistantClose\n        | MSG_NAME_FROM_IFRAME.FsTriggerRender\n        | MSG_NAME_FROM_IFRAME.QaAssistantPlatformChoiceLoaded;\n    }\n  | FsApplyForcedVariations;\n\n/**\n * All events posted to iframe\n */\nexport enum MSG_NAME_TO_IFRAME {\n  FsUpdateVisitorAllocatedVariation = 'FS_UPDATE_VISITOR_ALLOCATED_VARIATION',\n  FsVisitorExposedVariation = 'FS_VISITOR_EXPOSED_VARIATION',\n  FsHIT = 'FS_HIT',\n}\n\nexport enum VisitorVariationUpdateParam {\n  NewNavigation = 'newNavigation',\n}\n\n\nexport type VisitorAllocatedVariations = {\n  name:\n    | MSG_NAME_TO_IFRAME.FsUpdateVisitorAllocatedVariation\n    | MSG_NAME_TO_IFRAME.FsVisitorExposedVariation;\n  value: Record<string, VisitorVariations>;\n  param?: VisitorVariationUpdateParam\n\n};\n\nexport type FsSendHit = {\n  name: MSG_NAME_TO_IFRAME.FsHIT;\n  value: Record<string, unknown>[];\n};\n\nexport type EventDataToIframe = VisitorAllocatedVariations | FsSendHit;\n\nexport enum INTERNAL_EVENTS {\n  FsTriggerRendering = 'FS_TRIGGER_RENDERING',\n}\n","'use strict';\n// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x !== x && y !== y;\n};\n","'use strict';\nvar arraySlice = require('../internals/array-slice');\n\nvar floor = Math.floor;\n\nvar sort = function (array, comparefn) {\n  var length = array.length;\n\n  if (length < 8) {\n    // insertion sort\n    var i = 1;\n    var element, j;\n\n    while (i < length) {\n      j = i;\n      element = array[i];\n      while (j && comparefn(array[j - 1], element) > 0) {\n        array[j] = array[--j];\n      }\n      if (j !== i++) array[j] = element;\n    }\n  } else {\n    // merge sort\n    var middle = floor(length / 2);\n    var left = sort(arraySlice(array, 0, middle), comparefn);\n    var right = sort(arraySlice(array, middle), comparefn);\n    var llength = left.length;\n    var rlength = right.length;\n    var lindex = 0;\n    var rindex = 0;\n\n    while (lindex < llength || rindex < rlength) {\n      array[lindex + rindex] = (lindex < llength && rindex < rlength)\n        ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n        : lindex < llength ? left[lindex++] : right[rindex++];\n    }\n  }\n\n  return array;\n};\n\nmodule.exports = sort;\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, SEARCH);\n      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","import { VisitorVariationState } from '../../type.local';\nimport { EventDataToIframe, MSG_NAME_TO_IFRAME, VisitorVariationUpdateParam } from '../type';\n\nexport function sendMessageToIframe(data: EventDataToIframe): void {\n  if (!window?.frames?.ABTastyQaAssistant) {\n    return;\n  }\n  window.frames.ABTastyQaAssistant.postMessage(data, '*');\n}\n\nexport function sendVisitorAllocatedVariations(visitorVariationState: VisitorVariationState):void {\n\n  if (!visitorVariationState?.visitorVariations) {\n    return;\n  }\n\n  sendMessageToIframe({\n    name: MSG_NAME_TO_IFRAME.FsUpdateVisitorAllocatedVariation,\n    value: visitorVariationState.visitorVariations\n  });\n}\n\nexport function sendVisitorExposedVariations(visitorVariationState: VisitorVariationState):void {\n  if (!visitorVariationState?.exposedVariations) {\n    return;\n  }\n\n  const navigationDetected = visitorVariationState.navigationDetected;\n\n  if (visitorVariationState.navigationDetected) {\n    visitorVariationState.navigationDetected = false;\n  }\n\n  sendMessageToIframe({\n    name: MSG_NAME_TO_IFRAME.FsVisitorExposedVariation,\n    value: visitorVariationState.exposedVariations,\n    param: navigationDetected ? VisitorVariationUpdateParam.NewNavigation : undefined\n  });\n}\n\nexport function sendFsHitToQA(hit: Record<string, unknown>[]):void {\n  sendMessageToIframe({\n    name: MSG_NAME_TO_IFRAME.FsHIT,\n    value: hit.map(item => {\n      return {\n        ...item,\n        timestamp: Date.now() - (item.qt as number)\n      };\n    })\n  });\n}\n","import { FS_QA_ASSISTANT_SCRIPT_TAG_ID, FS_QA_URL, QA_ASSISTANT_LOCAL_URL, TAG_QA_URL } from '../enum/FlagshipConstant';\n\nconst getScriptElement = (src: string): HTMLScriptElement | null =>\n  document.querySelector<HTMLScriptElement>(`script[src*=\"${src}\"]`);\n/**\n *\n * @param bundleFileUrl\n */\nexport function appendScript(bundleFileUrl: string): void {\n  if (getScriptElement(TAG_QA_URL) || getScriptElement(FS_QA_URL)) {\n    return;\n  }\n  const script = document.createElement('script');\n  script.src = bundleFileUrl;\n  script.id = FS_QA_ASSISTANT_SCRIPT_TAG_ID;\n  if (bundleFileUrl === QA_ASSISTANT_LOCAL_URL) {\n    script.crossOrigin = 'anonymous';\n  }\n  document.body.append(script);\n}\n","import { sendVisitorAllocatedVariations, sendVisitorExposedVariations } from './index';\nimport { FS_FORCED_VARIATIONS, FS_IS_QA_MODE_ENABLED, FS_QA_ASSISTANT_SCRIPT_TAG_ID, SDK_INFO } from '../../enum/FlagshipConstant';\nimport { FsVariationToForce } from '../../types';\nimport { EventDataFromIframe, INTERNAL_EVENTS } from '../type';\nimport { IFlagshipConfig } from '../../config/IFlagshipConfig';\nimport { VisitorVariationState } from '../../type.local';\n\nexport function onQaAssistantReady(visitorVariationState: VisitorVariationState):void {\n\n  if (visitorVariationState.visitorVariations) {\n    sendVisitorAllocatedVariations(visitorVariationState);\n  }\n  if (visitorVariationState.exposedVariations) {\n    sendVisitorExposedVariations(visitorVariationState);\n  }\n}\n\nexport function render(forcedReFetchFlags = false):void {\n  if (SDK_INFO.name === 'TypeScript') {\n    window.location.reload();\n  }\n  const triggerRenderEvent = new CustomEvent<{ forcedReFetchFlags: boolean }>(INTERNAL_EVENTS.FsTriggerRendering, { detail: { forcedReFetchFlags } });\n  window.dispatchEvent(triggerRenderEvent);\n}\n\nexport function onQaAssistantClose({ config, func, visitorVariationState }:{\n  config:IFlagshipConfig,\n  func?: (event: MessageEvent<EventDataFromIframe>) => void,\n  visitorVariationState: VisitorVariationState\n\n}):void {\n  config.isQAModeEnabled = false;\n  sessionStorage.removeItem(FS_IS_QA_MODE_ENABLED);\n  if (func) {\n    window.removeEventListener('message', func);\n  }\n  document.getElementById(FS_QA_ASSISTANT_SCRIPT_TAG_ID)?.remove();\n  visitorVariationState.forcedVariations = {};\n  render();\n}\n\nexport function onApplyForcedVariations({ value,visitorVariationState }:{\n  value:Record<string, FsVariationToForce>,\n  visitorVariationState: VisitorVariationState\n}):void {\n  const sessionForcedVariations = sessionStorage.getItem(FS_FORCED_VARIATIONS);\n  let forcedVariations: Record<string, FsVariationToForce> = {};\n  try {\n    forcedVariations = JSON.parse(sessionForcedVariations || '{}');\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Error parsing sessionForcedVariations', error);\n  }\n  forcedVariations = {\n    ...forcedVariations,\n    ...value\n  };\n  sessionStorage.setItem(FS_FORCED_VARIATIONS, JSON.stringify(forcedVariations));\n  visitorVariationState.forcedVariations = forcedVariations;\n  render();\n}\n\nexport function onResetForcedVariations(visitorVariationState: VisitorVariationState):void {\n  sessionStorage.removeItem(FS_FORCED_VARIATIONS);\n  visitorVariationState.forcedVariations = {};\n  render();\n}\n","import { IFlagshipConfig } from '../config/IFlagshipConfig';\nimport { FS_FORCED_VARIATIONS, FS_IS_QA_MODE_ENABLED, QA_ASSISTANT_PROD_URL, TRUSTED_QA_ORIGINS } from '../enum/FlagshipConstant';\nimport { VisitorVariationState } from '../type.local';\nimport { FsVariationToForce } from '../types';\nimport { logInfoSprintf } from '../utils/utils';\nimport { appendScript } from './appendScript';\nimport { handleIframeMessage } from './messages/handleIframeMessage';\nimport { EventDataFromIframe } from './type';\n\n/**\n *\n * @param config\n * @returns\n */\nexport function loadQaAssistant(config: IFlagshipConfig, bundleUrl:string|null = null, visitorVariationState: VisitorVariationState): void {\n  if (!window?.frames?.ABTastyQaAssistant) {\n    logInfoSprintf(config, 'QA assistant', 'Loading QA Assistant');\n\n    appendScript(bundleUrl || QA_ASSISTANT_PROD_URL);\n  }\n\n  let forcedVariations: Record<string, FsVariationToForce> = {};\n  const sessionForcedVariations = sessionStorage.getItem(FS_FORCED_VARIATIONS);\n  try {\n    forcedVariations = JSON.parse(sessionForcedVariations || '{}');\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Error parsing sessionForcedVariations', error);\n  }\n\n  visitorVariationState.forcedVariations = forcedVariations;\n\n  if (window.__flagshipSdkQaAssistantMessageHandler) {\n    window.removeEventListener('message', window.__flagshipSdkQaAssistantMessageHandler);\n  }\n\n  const eventListenerMessage = (event: MessageEvent<EventDataFromIframe>):void => {\n    if (!TRUSTED_QA_ORIGINS.includes(event?.origin)) {\n      return;\n    }\n    handleIframeMessage({\n      visitorVariationState,\n      event,\n      config,\n      func: eventListenerMessage\n    });\n  };\n\n  window.__flagshipSdkQaAssistantMessageHandler = eventListenerMessage;\n\n  window.addEventListener('message', window.__flagshipSdkQaAssistantMessageHandler);\n\n  config.isQAModeEnabled = true;\n  sessionStorage.setItem(FS_IS_QA_MODE_ENABLED, 'true');\n}\n","\nimport { IFlagshipConfig } from '../../config/IFlagshipConfig';\nimport { VisitorVariationState } from '../../type.local';\nimport { isBrowser } from '../../utils/utils';\nimport { EventDataFromIframe, MSG_NAME_FROM_IFRAME } from '../type';\nimport { onApplyForcedVariations, onQaAssistantClose, onQaAssistantReady, onResetForcedVariations, render } from './iframeMessageActions';\n\nexport function handleIframeMessage({ event, config, func, visitorVariationState }:\n  { event: MessageEvent<EventDataFromIframe>, config: IFlagshipConfig, func?: (event: MessageEvent<EventDataFromIframe>) => void,\n  visitorVariationState: VisitorVariationState }):void {\n  if (!config.isQAModeEnabled || !isBrowser()) {\n    return;\n  }\n  switch (event.data.name) {\n    case MSG_NAME_FROM_IFRAME.FsQaAssistantReady:\n      onQaAssistantReady(visitorVariationState);\n      break;\n    case MSG_NAME_FROM_IFRAME.MinimizeQaAssistantClose:\n    case MSG_NAME_FROM_IFRAME.QaAssistantClose:\n      onQaAssistantClose({\n        config,\n        func,\n        visitorVariationState\n      });\n      break;\n    case MSG_NAME_FROM_IFRAME.FsApplyForcedVariations:\n      onApplyForcedVariations({\n        value: event.data.value,\n        visitorVariationState\n      });\n      break;\n    case MSG_NAME_FROM_IFRAME.FsResetForcedVariations:\n      onResetForcedVariations(visitorVariationState);\n      break;\n    case MSG_NAME_FROM_IFRAME.FsTriggerRender:\n      render(true);\n      break;\n  }\n}\n","import { FS_QA_ASSISTANT,\n  FS_QA_ASSISTANT_LOCAL,\n  FS_QA_ASSISTANT_STAGING,\n  QA_ASSISTANT_LOCAL_URL,\n  QA_ASSISTANT_PROD_URL,\n  QA_ASSISTANT_STAGING_URL,\n  TAG_QA_ASSISTANT,\n  TAG_QA_ASSISTANT_LOCAL,\n  TAG_QA_ASSISTANT_STAGING,\n  TRUSTED_QA_ORIGINS } from '../enum/FlagshipConstant';\nimport { IFlagshipConfig } from '../config/IFlagshipConfig';\nimport { isBrowser, onDomReady } from '../utils/utils';\nimport { listenForKeyboardQaAssistant } from './listenForKeyboardQaAssistant';\nimport { loadQaAssistant } from './loadQaAssistant';\nimport { detectNavigationChanges } from './detectNavigationChanges';\nimport { VisitorVariationState } from '../type.local';\nimport { EventDataFromIframe, MSG_NAME_FROM_IFRAME } from './type';\n\n/**\n *\n * @param config\n * @returns\n */\nexport function launchQaAssistant(\n  config: IFlagshipConfig,\n  visitorVariationState: VisitorVariationState\n): void {\n  if (!isBrowser()) {\n    return;\n  }\n\n  onDomReady(() => {\n    const urlMap = {\n      [FS_QA_ASSISTANT]: QA_ASSISTANT_PROD_URL,\n      [TAG_QA_ASSISTANT]: QA_ASSISTANT_PROD_URL,\n      [FS_QA_ASSISTANT_STAGING]: QA_ASSISTANT_STAGING_URL,\n      [TAG_QA_ASSISTANT_STAGING]: QA_ASSISTANT_STAGING_URL,\n      [FS_QA_ASSISTANT_LOCAL]: QA_ASSISTANT_LOCAL_URL,\n      [TAG_QA_ASSISTANT_LOCAL]: QA_ASSISTANT_LOCAL_URL\n    };\n    const queryParam = new URLSearchParams(window.location.search);\n    const urlKey =\n      Object.keys(urlMap).find((key) => queryParam.get(key) === 'true') || '';\n\n    if (window.__flagshipSdkOnPlatformChoiceLoaded) {\n      window.removeEventListener('message', window.__flagshipSdkOnPlatformChoiceLoaded);\n    }\n\n    function onPlatformChoiceLoaded(\n      event: MessageEvent<EventDataFromIframe>\n    ): void {\n\n      if (!TRUSTED_QA_ORIGINS.includes(event.origin)) {\n        return;\n      }\n\n      if (\n        event.data.name === MSG_NAME_FROM_IFRAME.QaAssistantPlatformChoiceLoaded\n      ) {\n        if (!config.isQAModeEnabled) {\n          loadQaAssistant(config, null, visitorVariationState);\n        }\n        window.removeEventListener('message', onPlatformChoiceLoaded);\n      }\n    }\n\n    window.__flagshipSdkOnPlatformChoiceLoaded = onPlatformChoiceLoaded;\n\n    window.addEventListener('message', window.__flagshipSdkOnPlatformChoiceLoaded);\n\n    detectNavigationChanges(config, visitorVariationState);\n\n    if (config.isQAModeEnabled || urlKey) {\n      loadQaAssistant(\n        config,\n        urlMap[urlKey as keyof typeof urlMap],\n        visitorVariationState\n      );\n      return;\n    }\n    listenForKeyboardQaAssistant(config, visitorVariationState);\n  });\n}\n","import { IFlagshipConfig } from '../config/IFlagshipConfig';\nimport { VisitorVariationState } from '../type.local';\n\n\nexport function detectNavigationChanges(config: IFlagshipConfig, visitorVariationState: VisitorVariationState, callback?: () => void): void {\n\n  if (window.__flagshipSdkOriginalPushState) {\n    window.history.pushState = window.__flagshipSdkOriginalPushState;\n  }\n\n  if (window.__flagshipSdkOriginalReplaceState) {\n    window.history.replaceState = window.__flagshipSdkOriginalReplaceState;\n  }\n\n  if (window.__flagshipSdkPopStateHandler) {\n    window.removeEventListener('popstate', window.__flagshipSdkPopStateHandler);\n  }\n\n  window.__flagshipSdkOriginalPushState = window.history.pushState;\n  window.__flagshipSdkOriginalReplaceState = window.history.replaceState;\n\n  function triggerCallback(): void {\n    if (config.isQAModeEnabled) {\n      visitorVariationState.navigationDetected = true;\n      callback?.();\n    }\n  }\n\n  window.history.pushState = function (...args): void {\n    if (window.__flagshipSdkOriginalPushState) {\n      window.__flagshipSdkOriginalPushState.apply(this, args);\n      triggerCallback();\n    }\n  };\n\n  window.history.replaceState = function (...args): void {\n    if (window.__flagshipSdkOriginalReplaceState) {\n      window.__flagshipSdkOriginalReplaceState.apply(this, args);\n      triggerCallback();\n    }\n  };\n\n  window.__flagshipSdkPopStateHandler = () => {\n    triggerCallback();\n  };\n\n  window.addEventListener('popstate', window.__flagshipSdkPopStateHandler);\n}\n","import { IFlagshipConfig } from '../config/IFlagshipConfig';\nimport { FS_FORCED_VARIATIONS } from '../enum/FlagshipConstant';\nimport { VisitorVariationState } from '../type.local';\nimport { logInfoSprintf } from '../utils/utils';\nimport { loadQaAssistant } from './loadQaAssistant';\n\n/**\n *\n * @param config\n */\nexport function listenForKeyboardQaAssistant(config: IFlagshipConfig, visitorVariationState: VisitorVariationState):void {\n  logInfoSprintf(config, 'QA assistant', 'Listening for keyboard events to launch QA Assistant');\n\n  if (window.__flagshipSdkOnKeyCombinationDown) {\n    document.removeEventListener('keydown', window.__flagshipSdkOnKeyCombinationDown);\n  }\n\n  if (window.__flagshipSdkOnKeyCombinationUp) {\n    document.removeEventListener('keyup', window.__flagshipSdkOnKeyCombinationUp);\n  }\n\n  const keysPressed: Record<string, boolean> = {};\n\n  const keyCombinationPressed = (): boolean => {\n    return (keysPressed.Control || keysPressed.Alt) && keysPressed.q && keysPressed.a;\n  };\n\n  window.__flagshipSdkOnKeyCombinationDown = (event: KeyboardEvent):void => {\n    keysPressed[event.key] = true;\n    sessionStorage.removeItem(FS_FORCED_VARIATIONS);\n    if (keyCombinationPressed()) {\n      loadQaAssistant(config,null, visitorVariationState);\n    }\n  };\n\n  window.__flagshipSdkOnKeyCombinationUp = (event: KeyboardEvent):void => {\n    delete keysPressed[event.key];\n  }\n  ;\n\n  document.addEventListener('keydown', window.__flagshipSdkOnKeyCombinationDown);\n  document.addEventListener('keyup', window.__flagshipSdkOnKeyCombinationUp);\n\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar $RangeError = RangeError;\nvar fromCharCode = String.fromCharCode;\n// eslint-disable-next-line es/no-string-fromcodepoint -- required for testing\nvar $fromCodePoint = String.fromCodePoint;\nvar join = uncurryThis([].join);\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!$fromCodePoint && $fromCodePoint.length !== 1;\n\n// `String.fromCodePoint` method\n// https://tc39.es/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, arity: 1, forced: INCORRECT_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  fromCodePoint: function fromCodePoint(x) {\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw new $RangeError(code + ' is not a valid code point');\n      elements[i] = code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00);\n    } return join(elements, '');\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line unicorn/relative-url-style -- required for testing\n  var url = new URL('b?a=1&b=2&c=3', 'https://a');\n  var params = url.searchParams;\n  var params2 = new URLSearchParams('a=1&a=2&b=3');\n  var result = '';\n  url.pathname = 'c%20d';\n  params.forEach(function (value, key) {\n    params['delete']('b');\n    result += key + value;\n  });\n  params2['delete']('a', 2);\n  // `undefined` case is a Chromium 117 bug\n  // https://bugs.chromium.org/p/v8/issues/detail?id=14222\n  params2['delete']('b', undefined);\n  return (IS_PURE && (!url.toJSON || !params2.has('a', 1) || params2.has('a', 2) || !params2.has('a', undefined) || params2.has('b')))\n    || (!params.size && (IS_PURE || !DESCRIPTORS))\n    || !params.sort\n    || url.href !== 'https://a/c%20d?a=1&c=3'\n    || params.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !params[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('https://тест').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('https://a#б').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('https://x', undefined).host !== 'x';\n});\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nrequire('../modules/es.string.from-code-point');\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar safeGetBuiltIn = require('../internals/safe-get-built-in');\nvar getBuiltIn = require('../internals/get-built-in');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/url-constructor-detection');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar $toString = require('../internals/to-string');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arraySort = require('../internals/array-sort');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar nativeFetch = safeGetBuiltIn('fetch');\nvar NativeRequest = safeGetBuiltIn('Request');\nvar Headers = safeGetBuiltIn('Headers');\nvar RequestPrototype = NativeRequest && NativeRequest.prototype;\nvar HeadersPrototype = Headers && Headers.prototype;\nvar TypeError = globalThis.TypeError;\nvar encodeURIComponent = globalThis.encodeURIComponent;\nvar fromCharCode = String.fromCharCode;\nvar fromCodePoint = getBuiltIn('String', 'fromCodePoint');\nvar $parseInt = parseInt;\nvar charAt = uncurryThis(''.charAt);\nvar join = uncurryThis([].join);\nvar push = uncurryThis([].push);\nvar replace = uncurryThis(''.replace);\nvar shift = uncurryThis([].shift);\nvar splice = uncurryThis([].splice);\nvar split = uncurryThis(''.split);\nvar stringSlice = uncurryThis(''.slice);\nvar exec = uncurryThis(/./.exec);\n\nvar plus = /\\+/g;\nvar FALLBACK_REPLACER = '\\uFFFD';\nvar VALID_HEX = /^[0-9a-f]+$/i;\n\nvar parseHexOctet = function (string, start) {\n  var substr = stringSlice(string, start, start + 2);\n  if (!exec(VALID_HEX, substr)) return NaN;\n\n  return $parseInt(substr, 16);\n};\n\nvar getLeadingOnes = function (octet) {\n  var count = 0;\n  for (var mask = 0x80; mask > 0 && (octet & mask) !== 0; mask >>= 1) {\n    count++;\n  }\n  return count;\n};\n\nvar utf8Decode = function (octets) {\n  var codePoint = null;\n\n  switch (octets.length) {\n    case 1:\n      codePoint = octets[0];\n      break;\n    case 2:\n      codePoint = (octets[0] & 0x1F) << 6 | (octets[1] & 0x3F);\n      break;\n    case 3:\n      codePoint = (octets[0] & 0x0F) << 12 | (octets[1] & 0x3F) << 6 | (octets[2] & 0x3F);\n      break;\n    case 4:\n      codePoint = (octets[0] & 0x07) << 18 | (octets[1] & 0x3F) << 12 | (octets[2] & 0x3F) << 6 | (octets[3] & 0x3F);\n      break;\n  }\n\n  return codePoint > 0x10FFFF ? null : codePoint;\n};\n\nvar decode = function (input) {\n  input = replace(input, plus, ' ');\n  var length = input.length;\n  var result = '';\n  var i = 0;\n\n  while (i < length) {\n    var decodedChar = charAt(input, i);\n\n    if (decodedChar === '%') {\n      if (charAt(input, i + 1) === '%' || i + 3 > length) {\n        result += '%';\n        i++;\n        continue;\n      }\n\n      var octet = parseHexOctet(input, i + 1);\n\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (octet !== octet) {\n        result += decodedChar;\n        i++;\n        continue;\n      }\n\n      i += 2;\n      var byteSequenceLength = getLeadingOnes(octet);\n\n      if (byteSequenceLength === 0) {\n        decodedChar = fromCharCode(octet);\n      } else {\n        if (byteSequenceLength === 1 || byteSequenceLength > 4) {\n          result += FALLBACK_REPLACER;\n          i++;\n          continue;\n        }\n\n        var octets = [octet];\n        var sequenceIndex = 1;\n\n        while (sequenceIndex < byteSequenceLength) {\n          i++;\n          if (i + 3 > length || charAt(input, i) !== '%') break;\n\n          var nextByte = parseHexOctet(input, i + 1);\n\n          // eslint-disable-next-line no-self-compare -- NaN check\n          if (nextByte !== nextByte) {\n            i += 3;\n            break;\n          }\n          if (nextByte > 191 || nextByte < 128) break;\n\n          push(octets, nextByte);\n          i += 2;\n          sequenceIndex++;\n        }\n\n        if (octets.length !== byteSequenceLength) {\n          result += FALLBACK_REPLACER;\n          continue;\n        }\n\n        var codePoint = utf8Decode(octets);\n        if (codePoint === null) {\n          result += FALLBACK_REPLACER;\n        } else {\n          decodedChar = fromCodePoint(codePoint);\n        }\n      }\n    }\n\n    result += decodedChar;\n    i++;\n  }\n\n  return result;\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replacements = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replacements[match];\n};\n\nvar serialize = function (it) {\n  return replace(encodeURIComponent(it), find, replacer);\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    target: getInternalParamsState(params).entries,\n    index: 0,\n    kind: kind\n  });\n}, URL_SEARCH_PARAMS, function next() {\n  var state = getInternalIteratorState(this);\n  var target = state.target;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = null;\n    return createIterResultObject(undefined, true);\n  }\n  var entry = target[index];\n  switch (state.kind) {\n    case 'keys': return createIterResultObject(entry.key, false);\n    case 'values': return createIterResultObject(entry.value, false);\n  } return createIterResultObject([entry.key, entry.value], false);\n}, true);\n\nvar URLSearchParamsState = function (init) {\n  this.entries = [];\n  this.url = null;\n\n  if (init !== undefined) {\n    if (isObject(init)) this.parseObject(init);\n    else this.parseQuery(typeof init == 'string' ? charAt(init, 0) === '?' ? stringSlice(init, 1) : init : $toString(init));\n  }\n};\n\nURLSearchParamsState.prototype = {\n  type: URL_SEARCH_PARAMS,\n  bindURL: function (url) {\n    this.url = url;\n    this.update();\n  },\n  parseObject: function (object) {\n    var entries = this.entries;\n    var iteratorMethod = getIteratorMethod(object);\n    var iterator, next, step, entryIterator, entryNext, first, second;\n\n    if (iteratorMethod) {\n      iterator = getIterator(object, iteratorMethod);\n      next = iterator.next;\n      while (!(step = call(next, iterator)).done) {\n        entryIterator = getIterator(anObject(step.value));\n        entryNext = entryIterator.next;\n        if (\n          (first = call(entryNext, entryIterator)).done ||\n          (second = call(entryNext, entryIterator)).done ||\n          !call(entryNext, entryIterator).done\n        ) throw new TypeError('Expected sequence with length 2');\n        push(entries, { key: $toString(first.value), value: $toString(second.value) });\n      }\n    } else for (var key in object) if (hasOwn(object, key)) {\n      push(entries, { key: key, value: $toString(object[key]) });\n    }\n  },\n  parseQuery: function (query) {\n    if (query) {\n      var entries = this.entries;\n      var attributes = split(query, '&');\n      var index = 0;\n      var attribute, entry;\n      while (index < attributes.length) {\n        attribute = attributes[index++];\n        if (attribute.length) {\n          entry = split(attribute, '=');\n          push(entries, {\n            key: decode(shift(entry)),\n            value: decode(join(entry, '='))\n          });\n        }\n      }\n    }\n  },\n  serialize: function () {\n    var entries = this.entries;\n    var result = [];\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      push(result, serialize(entry.key) + '=' + serialize(entry.value));\n    } return join(result, '&');\n  },\n  update: function () {\n    this.entries.length = 0;\n    this.parseQuery(this.url.query);\n  },\n  updateURL: function () {\n    if (this.url) this.url.update();\n  }\n};\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsPrototype);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var state = setInternalState(this, new URLSearchParamsState(init));\n  if (!DESCRIPTORS) this.size = state.entries.length;\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\ndefineBuiltIns(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.append` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    var state = getInternalParamsState(this);\n    validateArgumentsLength(arguments.length, 2);\n    push(state.entries, { key: $toString(name), value: $toString(value) });\n    if (!DESCRIPTORS) this.length++;\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name /* , value */) {\n    var state = getInternalParamsState(this);\n    var length = validateArgumentsLength(arguments.length, 1);\n    var entries = state.entries;\n    var key = $toString(name);\n    var $value = length < 2 ? undefined : arguments[1];\n    var value = $value === undefined ? $value : $toString($value);\n    var index = 0;\n    while (index < entries.length) {\n      var entry = entries[index];\n      if (entry.key === key && (value === undefined || entry.value === value)) {\n        splice(entries, index, 1);\n        if (value !== undefined) break;\n      } else index++;\n    }\n    if (!DESCRIPTORS) this.size = entries.length;\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    var entries = getInternalParamsState(this).entries;\n    validateArgumentsLength(arguments.length, 1);\n    var key = $toString(name);\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    var entries = getInternalParamsState(this).entries;\n    validateArgumentsLength(arguments.length, 1);\n    var key = $toString(name);\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) push(result, entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name /* , value */) {\n    var entries = getInternalParamsState(this).entries;\n    var length = validateArgumentsLength(arguments.length, 1);\n    var key = $toString(name);\n    var $value = length < 2 ? undefined : arguments[1];\n    var value = $value === undefined ? $value : $toString($value);\n    var index = 0;\n    while (index < entries.length) {\n      var entry = entries[index++];\n      if (entry.key === key && (value === undefined || entry.value === value)) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    var state = getInternalParamsState(this);\n    validateArgumentsLength(arguments.length, 1);\n    var entries = state.entries;\n    var found = false;\n    var key = $toString(name);\n    var val = $toString(value);\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) splice(entries, index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) push(entries, { key: key, value: val });\n    if (!DESCRIPTORS) this.size = entries.length;\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    arraySort(state.entries, function (a, b) {\n      return a.key > b.key ? 1 : -1;\n    });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\ndefineBuiltIn(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries, { name: 'entries' });\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\ndefineBuiltIn(URLSearchParamsPrototype, 'toString', function toString() {\n  return getInternalParamsState(this).serialize();\n}, { enumerable: true });\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS) defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n  get: function size() {\n    return getInternalParamsState(this).entries.length;\n  },\n  configurable: true,\n  enumerable: true\n});\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, constructor: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` and `Request` for correct work with polyfilled `URLSearchParams`\nif (!USE_NATIVE_URL && isCallable(Headers)) {\n  var headersHas = uncurryThis(HeadersPrototype.has);\n  var headersSet = uncurryThis(HeadersPrototype.set);\n\n  var wrapRequestOptions = function (init) {\n    if (isObject(init)) {\n      var body = init.body;\n      var headers;\n      if (classof(body) === URL_SEARCH_PARAMS) {\n        headers = init.headers ? new Headers(init.headers) : new Headers();\n        if (!headersHas(headers, 'content-type')) {\n          headersSet(headers, 'content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n        return create(init, {\n          body: createPropertyDescriptor(0, $toString(body)),\n          headers: createPropertyDescriptor(0, headers)\n        });\n      }\n    } return init;\n  };\n\n  if (isCallable(nativeFetch)) {\n    $({ global: true, enumerable: true, dontCallGetSet: true, forced: true }, {\n      fetch: function fetch(input /* , init */) {\n        return nativeFetch(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});\n      }\n    });\n  }\n\n  if (isCallable(NativeRequest)) {\n    var RequestConstructor = function Request(input /* , init */) {\n      anInstance(this, RequestPrototype);\n      return new NativeRequest(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});\n    };\n\n    RequestPrototype.constructor = RequestConstructor;\n    RequestConstructor.prototype = RequestPrototype;\n\n    $({ global: true, constructor: true, dontCallGetSet: true, forced: true }, {\n      Request: RequestConstructor\n    });\n  }\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's replaced to module below\nrequire('../modules/web.url-search-params.constructor');\n"],"names":["MSG_NAME_FROM_IFRAME","MSG_NAME_TO_IFRAME","VisitorVariationUpdateParam","INTERNAL_EVENTS","module","exports","Object","is","x","y","arraySlice","floor","Math","sort","array","comparefn","length","element","j","i","middle","left","right","llength","rlength","lindex","rindex","call","fixRegExpWellKnownSymbolLogic","anObject","isNullOrUndefined","requireObjectCoercible","sameValue","toString","getMethod","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","this","searcher","undefined","RegExp","string","rx","S","res","done","value","previousLastIndex","lastIndex","result","index","sendMessageToIframe","data","_window","window","frames","ABTastyQaAssistant","postMessage","sendVisitorAllocatedVariations","visitorVariationState","visitorVariations","name","FsUpdateVisitorAllocatedVariation","sendVisitorExposedVariations","exposedVariations","navigationDetected","FsVisitorExposedVariation","param","NewNavigation","sendFsHitToQA","hit","FsHIT","map","item","_objectSpread","timestamp","Date","now","qt","getScriptElement","src","document","querySelector","concat","render","forcedReFetchFlags","arguments","SDK_INFO","location","reload","triggerRenderEvent","CustomEvent","FsTriggerRendering","detail","dispatchEvent","loadQaAssistant","config","bundleUrl","logInfoSprintf","bundleFileUrl","TAG_QA_URL","FS_QA_URL","script","createElement","id","FS_QA_ASSISTANT_SCRIPT_TAG_ID","QA_ASSISTANT_LOCAL_URL","crossOrigin","body","append","appendScript","QA_ASSISTANT_PROD_URL","forcedVariations","sessionForcedVariations","sessionStorage","getItem","FS_FORCED_VARIATIONS","JSON","parse","error","console","__flagshipSdkQaAssistantMessageHandler","removeEventListener","eventListenerMessage","event","TRUSTED_QA_ORIGINS","includes","origin","_ref","func","isQAModeEnabled","isBrowser","FsQaAssistantReady","onQaAssistantReady","MinimizeQaAssistantClose","QaAssistantClose","_document$getElementB","removeItem","FS_IS_QA_MODE_ENABLED","getElementById","remove","onQaAssistantClose","FsApplyForcedVariations","_ref2","setItem","stringify","onApplyForcedVariations","FsResetForcedVariations","onResetForcedVariations","FsTriggerRender","handleIframeMessage","addEventListener","launchQaAssistant","onDomReady","urlMap","_defineProperty","FS_QA_ASSISTANT","TAG_QA_ASSISTANT","FS_QA_ASSISTANT_STAGING","QA_ASSISTANT_STAGING_URL","TAG_QA_ASSISTANT_STAGING","FS_QA_ASSISTANT_LOCAL","TAG_QA_ASSISTANT_LOCAL","queryParam","URLSearchParams","search","urlKey","keys","find","key","get","__flagshipSdkOnPlatformChoiceLoaded","onPlatformChoiceLoaded","QaAssistantPlatformChoiceLoaded","triggerCallback","__flagshipSdkOriginalPushState","history","pushState","__flagshipSdkOriginalReplaceState","replaceState","__flagshipSdkPopStateHandler","_len","args","Array","_key","apply","_len2","_key2","detectNavigationChanges","__flagshipSdkOnKeyCombinationDown","__flagshipSdkOnKeyCombinationUp","keysPressed","Control","Alt","q","a","listenForKeyboardQaAssistant","$","uncurryThis","toAbsoluteIndex","$RangeError","RangeError","fromCharCode","String","$fromCodePoint","fromCodePoint","join","target","stat","arity","forced","code","elements","fails","wellKnownSymbol","DESCRIPTORS","IS_PURE","ITERATOR","url","URL","params","searchParams","params2","pathname","forEach","toJSON","has","size","href","username","host","hash","globalThis","safeGetBuiltIn","getBuiltIn","USE_NATIVE_URL","defineBuiltIn","defineBuiltInAccessor","defineBuiltIns","setToStringTag","createIteratorConstructor","InternalStateModule","anInstance","isCallable","hasOwn","bind","classof","isObject","$toString","create","createPropertyDescriptor","getIterator","getIteratorMethod","createIterResultObject","validateArgumentsLength","arraySort","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","setInternalState","set","getInternalParamsState","getterFor","getInternalIteratorState","nativeFetch","NativeRequest","Headers","RequestPrototype","prototype","HeadersPrototype","TypeError","encodeURIComponent","$parseInt","parseInt","charAt","push","replace","shift","splice","split","stringSlice","slice","exec","plus","VALID_HEX","parseHexOctet","start","substr","NaN","getLeadingOnes","octet","count","mask","utf8Decode","octets","codePoint","decode","input","decodedChar","byteSequenceLength","sequenceIndex","nextByte","replacements","replacer","match","serialize","it","URLSearchParamsIterator","kind","type","entries","state","entry","URLSearchParamsState","init","parseObject","parseQuery","bindURL","update","object","iterator","next","step","entryIterator","entryNext","first","second","iteratorMethod","query","attribute","attributes","updateURL","URLSearchParamsConstructor","URLSearchParamsPrototype","$value","getAll","found","val","b","callback","boundFunction","values","enumerable","configurable","global","constructor","headersHas","headersSet","wrapRequestOptions","headers","dontCallGetSet","fetch","RequestConstructor","Request","getState"],"sourceRoot":""}